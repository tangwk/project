webpackJsonp([9],{BcDu:function(e,t){},Mdnr:function(e,t,a){"use strict";var r=a("JVB/");var n={getWeChatList:function(e){return Object(r.a)({url:"/findWechatAccount",method:"post",data:e})},deleteMenu:function(e){return Object(r.a)({url:"/deleteMenu",method:"post",data:e})},addMenu:function(e){return Object(r.a)({url:"/saveMenu",method:"post",data:e})},getMenuList:function(e){return Object(r.a)({url:"/findWechatMenuByPartyschoolId",method:"post",data:e})},getParentMenu:function(e){return Object(r.a)({url:"/findParentMenu",method:"post",data:e})},getMenuUrl:function(e){return Object(r.a)({url:"/findWechatMenuUrl",method:"post",data:e})},saveNewMenu:function(e){return Object(r.a)({url:"/saveWechatMenu",method:"post",data:e})},pushMenu:function(e){return Object(r.a)({url:"/pushMenu",method:"post",data:e})},resetMenu:function(e){return Object(r.a)({url:"/deleteMenu",method:"post",data:e})},deleteMenuData:function(e){return Object(r.a)({url:"/deleteWechatMenu",method:"post",data:e})}};t.a=n},lh5f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Osha"),n=a("Mdnr"),l={name:"Wechat",data:function(){return{weName:"",publisherData:[],deleteType:"",currentPage:1,total:null,alertClosed:!1}},watch:{weName:function(e){""===e&&this.search()}},methods:{searchData:function(){this.publisherData=[],this.currentPage=1,this.search()},search:function(){var e=this;n.a.getWeChatList({id:"",partyschoolId:"",wfaName:this.weName,pageNum:this.currentPage,pageSize:10}).then(function(t){var a=t.result;e.publisherData=[],200===t.code?(a.forEach(function(t){t.weName=t.wfaName,t.weStartTime=e.formatDate(t.createDate),t.reportID=t.partyschoolId,t.appSecret=t.wfaAppSecret,t.appId=t.wfaAppid,t.status=t.status}),e.publisherData=a):900===t.code&&(e.currentPage>1?(e.currentPage=e.currentPage-1,e.search()):e.publisherData=[]),t.number&&(e.total=t.number)})},deleteSingle:function(){var e=this;n.a.deleteMenu({data:[{APPID:"wx139f89139d0670e9",APPSECRET:"f51af4f64f433bf606e3ec493074a65d"}],status:0}).then(function(t){e.alertClosed=!e.alertClosed,"200"===t.code&&e.items.forEach(function(t,a){t.reportID===e.currentDelId&&(e.items.splice(a,1),e.total--)})})},handleDel:function(e,t){this.currentDelId=t.reportID,this.alertClosed=!this.alertClosed,this.deleteType="deleteSingle"},sureDel:function(){this.$refs.deleteRef.getAttribute("data-type");this.deleteSingle()},close:function(){this.alertClosed=!this.alertClosed},handleMenu:function(e,t){this.$router.push({name:"WeMenu",query:{reportID:t.reportID,partyschoolId:t.partyschoolId,currentPage:this.currentPage}})},handleCurrentChange:function(e){this.currentPage=e,this.search()},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1;r=r<10?"0"+r:r;var n=t.getDate();return a+"-"+r+"-"+(n=n<10?"0"+n:n)+" "}},created:function(){this.$route.query.currentPage&&(this.currentPage=Number(this.$route.query.currentPage)),this.search()},components:{commonBread:r.a}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxBor"},[a("div",{staticClass:"crumbs"},[a("common-bread")],1),e._v(" "),a("div",{staticClass:"user"},[a("p",{staticClass:"titleBar"},[e._v("\n      公众号管理\n    ")]),e._v(" "),a("div",{staticClass:"userListBor"},[a("div",{staticClass:"userList clear"},[a("div",{staticClass:"actBtn left"}),e._v(" "),a("ul",{staticClass:"fillIn right"},[a("li",[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.weName,expression:"weName"}],attrs:{type:"text",size:"small",name:"keyword",placeholder:"按公众号名称搜索"},domProps:{value:e.weName},on:{input:function(t){t.target.composing||(e.weName=t.target.value)}}})]),e._v(" "),a("li",[a("button",{on:{click:e.searchData}},[e._v("搜 索")])])])]),e._v(" "),a("el-table",{ref:"singleTable",attrs:{data:e.publisherData,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"weName",label:"公众号名称","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"weStartTime",label:"创建时间","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"appSecret",label:"AppSecret","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"appId",label:"AppId","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"iconfont icon-xiangqing button",attrs:{title:"自定义菜单"},on:{click:function(a){e.handleMenu(t.$index,t.row)}}})]}}])})],1),e._v(" "),e.total>0?a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.alertClosed,expression:"alertClosed"}],staticClass:"dataDel"},[a("div",{staticClass:"sureDel"},[a("div",{staticClass:"titleDel"},[a("p",[e._v("确认删除")]),e._v(" "),a("i",{staticClass:"iconfont icon-guanbi",on:{click:e.close}})]),e._v(" "),a("h3",[e._v("确定要把所选公众号进行删除吗？")]),e._v(" "),a("p",[a("button",{ref:"deleteRef",attrs:{"data-type":e.deleteType},on:{click:e.sureDel}},[e._v("确定")]),e._v(" "),a("button",{on:{click:e.close}},[e._v("取消")])])]),e._v(" "),a("div",{staticClass:"opacityDel"})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"keyword"}},[t("span",{staticStyle:{display:"inline-block",width:"0.2rem"}}),this._v("关\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.26rem"}}),this._v("键\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.26rem"}}),this._v("字 :\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.18rem"}})])}]};var i=a("C7Lr")(l,s,!1,function(e){a("BcDu")},"data-v-228b7968",null);t.default=i.exports}});
//# sourceMappingURL=9.23481bc77c7efde9ae8a.js.map