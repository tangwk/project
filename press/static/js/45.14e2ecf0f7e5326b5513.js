webpackJsonp([45],{Qyqw:function(e,t){},g7ZO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("IvJb"),s=a("Osha"),n=a("dC0T"),o=a("/p82");i.default.filter("dateFormat",function(e){var t=new Date(parseInt(e));return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")});var r={name:"UploadVideo",data:function(){return{videoName:"",videoTime:new Date,typeVal:"",videoContent:"",address:"",options:[],config:{initialFrameWidth:null,initialFrameHeight:350},eDitor:"",edithtml:"",videoType:"videoType"}},methods:{goBack:function(){this.$router.go(-1)},insertContent:function(e){this.eDitor=e},submit:function(){var e=this,t=this.eDitor.getContent();this.videoContent=t;var a=this;this.$validator.validateAll().then(function(t){t&&o.a.addVideo({type:"1",partyschoolId:"",videoName:a.videoName,videoContent:a.videoContent,uploadDate:a.videoTime,videoType:a.typeVal,mappingId:a.address,releaseId:localStorage.getItem("userId"),releaseName:localStorage.getItem("userName")}).then(function(t){e.$router.push("/layOut/video")})})},getTypeList:function(){var e=this;o.a.typeList({codeName:"",codeType:this.videoType,id:"",code:""}).then(function(t){var a=t.result;e.options=[],a&&(a.forEach(function(e){e.label=e.codeName,e.value=e.code}),e.options=a)})}},created:function(){this.getTypeList()},components:{commonBread:s.a,UE:n.a}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxBor"},[a("div",{staticClass:"crumbs"},[a("common-bread")],1),e._v(" "),a("div",{staticClass:"user"},[a("p",{staticClass:"titleBar"},[e._v("\n      视频上传\n    ")]),e._v(" "),a("ul",{staticClass:"newsBor"},[a("li",[e._m(0),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{input:!0,"is-danger":e.errors.has("vidName")},attrs:{placeholder:"请输入视频名称",id:"title",name:"vidName"},model:{value:e.videoName,callback:function(t){e.videoName=t},expression:"videoName"}}),e._v(" "),a("p",{staticClass:"hint"},[e._v(" "+e._s(e.errors.first("vidName"))+" ")])],1),e._v(" "),a("li",{staticClass:"clear",staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"right"},[a("label",{attrs:{for:"time"}},[e._v("上传时间 :")]),e._v(" "),a("span",[e._v(e._s(e._f("dateFormat")(Date.now())))])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{"margin-left":"-19px"}},[a("label",{staticClass:"label",staticStyle:{"text-align":"center"},attrs:{for:"author"}},[e._v("分类 :")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.typeVal,callback:function(t){e.typeVal=t},expression:"typeVal"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("li",[e._m(1),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{input:!0,"is-danger":e.errors.has("videoUrl")},attrs:{placeholder:"请输入映射地址",width:"100%",id:"address",name:"videoUrl"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._v(" "),a("p",{staticClass:"hint"},[e._v(" "+e._s(e.errors.first("videoUrl"))+" ")])],1),e._v(" "),a("li",[e._m(2),e._v(" "),a("div",{staticClass:"editor"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.videoContent,expression:"videoContent"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{input:!0,"is-danger":e.errors.has("vidContent")},attrs:{type:"hidden",name:"vidContent"},domProps:{value:e.videoContent},on:{input:function(t){t.target.composing||(e.videoContent=t.target.value)}}}),e._v(" "),a("UE",{ref:"ue",attrs:{config:e.config},on:{onready:e.insertContent}})],1),e._v(" "),a("p",{staticClass:"hint"},[e._v(" "+e._s(e.errors.first("vidContent"))+" ")])]),e._v(" "),a("li",{staticClass:"submit"},[a("button",{on:{click:e.submit}},[e._v("提 交")]),e._v(" "),a("button",{on:{click:e.goBack}},[e._v("取 消")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"title"}},[t("i",{staticClass:"iconfont icon-xinghao"}),this._v("视频名称 :")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"address"}},[t("i",{staticClass:"iconfont icon-xinghao"}),this._v("映射地址 :")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"content"}},[t("i",{staticClass:"iconfont icon-xinghao"}),this._v("视频描述 :")])}]};var d=a("C7Lr")(r,l,!1,function(e){a("Qyqw")},"data-v-1bc1480c",null);t.default=d.exports}});
//# sourceMappingURL=45.14e2ecf0f7e5326b5513.js.map