webpackJsonp([29],{KQEj:function(e,t){},VX0C:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Osha"),i=a("lK/u"),o={name:"ArticleSectionIn",data:function(){return{videoName:"",videoSData:[],currentPage:1,total:null}},watch:{videoName:function(e){""===e&&this.search()}},methods:{search:function(){var e=this;this.videoSData=[],i.a.getInColumnVideo({status:"1",type:"1",partyschoolId:"",columnType:"2",sourceType:"1",columnId:this.reportID,videoName:this.videoName,pageNum:this.currentPage,pageSize:10}).then(function(t){var a=t.result;200===t.code?(a.forEach(function(t){t.videoName=t.videoName,t.videoTime=e.formatDate(t.uploadDate),t.videoSource=t.mappingUrl,t.reportID=t.id,t.status=t.status}),e.videoSData=a):900===t.code&&(e.currentPage>1?(e.currentPage=e.currentPage-1,e.search()):e.videoSData=[]),t.number&&(e.total=t.number)})},handleSelectionChange:function(e){this.multipleSelection=e},artSecIn:function(){var e=this,t=[];this.multipleSelection.map(function(e){var a={};a.videoId=e.id,t.push(a)}),i.a.InColumnVideo({columnId:this.reportID,data:t}).then(function(t){200===t.code&&(e.$message({message:"导入成功！",type:"success"}),e.search())}).catch(function(e){})},handleCurrentChange:function(e){this.currentPage=e,this.search()},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var i=t.getDate();return a+"-"+n+"-"+(i=i<10?"0"+i:i)+" "}},created:function(){this.reportID=this.$route.query.reportID,this.search()},components:{commonBread:n.a}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxBor"},[a("div",{staticClass:"crumbs"},[a("common-bread")],1),e._v(" "),a("div",{staticClass:"user"},[a("p",{staticClass:"titleBar"},[e._v("\n      视频导入\n    ")]),e._v(" "),a("div",{staticClass:"userListBor"},[a("div",{staticClass:"userList clear"},[a("div",{staticClass:"actBtn left"},[a("button",{staticClass:"newAdd",on:{click:e.artSecIn}},[e._v("导 入")])]),e._v(" "),a("ul",{staticClass:"fillIn right"},[a("li",[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.videoName,expression:"videoName"}],attrs:{type:"text",size:"small",name:"keyword",placeholder:"按视频名称搜索"},domProps:{value:e.videoName},on:{input:function(t){t.target.composing||(e.videoName=t.target.value)}}})]),e._v(" "),a("li",[a("button",{on:{click:e.search}},[e._v("搜 索")])])])]),e._v(" "),a("el-table",{ref:"singleTable",attrs:{data:e.videoSData,"highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"videoName",label:"视频名称","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"videoTime",label:"上传时间","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"videoSource",label:"映射地址","show-overflow-tooltip":"",align:"center"}})],1),e._v(" "),e.total>1?a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"keyword"}},[t("span",{staticStyle:{display:"inline-block",width:"0.2rem"}}),this._v("关\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.26rem"}}),this._v("键\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.26rem"}}),this._v("字 :\n              "),t("span",{staticStyle:{display:"inline-block",width:"0.18rem"}})])}]};var s=a("C7Lr")(o,r,!1,function(e){a("KQEj")},"data-v-4ff41ce0",null);t.default=s.exports}});
//# sourceMappingURL=29.88e9c37347833e6bb479.js.map