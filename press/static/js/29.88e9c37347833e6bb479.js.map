{"version":3,"sources":["webpack:///src/pages/column/videoSectionIn.vue","webpack:///./src/pages/column/videoSectionIn.vue?3afd","webpack:///./src/pages/column/videoSectionIn.vue"],"names":["videoSectionIn","name","data","videoName","videoSData","currentPage","total","watch","val","this","search","methods","_this","column","getInColumnVideo","status","type","partyschoolId","columnType","sourceType","columnId","reportID","pageNum","pageSize","then","res","_data","result","code","forEach","item","videoTime","formatDate","uploadDate","videoSource","mappingUrl","id","number","handleSelectionChange","multipleSelection","artSecIn","_this2","inArray","map","obj","videoId","push","InColumnVideo","$message","message","catch","err","handleCurrentChange","value","date","Date","y","getFullYear","MM","getMonth","d","getDate","created","$route","query","components","commonBread","bread","column_videoSectionIn","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","_m","directives","rawName","expression","attrs","size","placeholder","domProps","input","$event","target","composing","ref","highlight-current-row","selection-change","property","label","show-overflow-tooltip","align","current-page","page-size","layout","current-change","_e","staticRenderFns","for","staticStyle","display","width","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.88e9c37347833e6bb479.js","sourcesContent":[" <template>\r\n  <div class=\"boxBor\">\r\n    <div class=\"crumbs\">\r\n      <common-bread></common-bread>\r\n    </div>\r\n    <div class=\"user\">\r\n      <p class=\"titleBar\">\r\n        视频导入\r\n      </p>\r\n      <div class=\"userListBor\">\r\n        <div class=\"userList clear\">\r\n          <div class=\"actBtn left\">\r\n            <button class=\"newAdd\" @click=\"artSecIn\">导 入</button>\r\n          </div>\r\n          <ul class=\"fillIn right\">\r\n            <li>\r\n              <label for=\"keyword\">\r\n                <span style=\"display:inline-block;width: 0.2rem;\"></span>关\r\n                <span style=\"display:inline-block;width: 0.26rem;\"></span>键\r\n                <span style=\"display:inline-block;width: 0.26rem;\"></span>字 :\r\n                <span style=\"display:inline-block;width: 0.18rem;\"></span>\r\n              </label>\r\n              <input type=\"text\" size=\"small\" name=\"keyword\" placeholder=\"按视频名称搜索\" v-model=\"videoName\">\r\n            </li>\r\n            <li>\r\n              <button @click=\"search\">搜 索</button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <el-table\r\n          ref=\"singleTable\"\r\n          :data=\"videoSData\"\r\n          highlight-current-row\r\n          @selection-change=\"handleSelectionChange\"\r\n          >\r\n          <el-table-column type=\"selection\"></el-table-column>\r\n          <el-table-column\r\n            property=\"videoName\"\r\n            label=\"视频名称\"\r\n            show-overflow-tooltip\r\n            align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            property=\"videoTime\"\r\n            label=\"上传时间\"\r\n            show-overflow-tooltip\r\n            align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            property=\"videoSource\"\r\n            label=\"映射地址\"\r\n            show-overflow-tooltip\r\n            align=\"center\">\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 分页 -->\r\n        <div class=\"block\" v-if=\"total>1\">\r\n          <el-pagination\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-size=\"10\"\r\n            layout=\"total, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commonBread from \"../../components/bread\";\r\nimport API from \"../../API/column.js\";\r\nexport default {\r\n  name: \"ArticleSectionIn\",\r\n  data() {\r\n    return {\r\n      videoName: \"\", // 关键词检索\r\n      videoSData: [],\r\n      currentPage: 1, // 当前页码\r\n      total: null //null\r\n    };\r\n  },\r\n  watch: {\r\n    videoName(val) {\r\n      if (val === \"\") {\r\n        this.search();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.videoSData = [];\r\n      API.getInColumnVideo({\r\n        status: \"1\",\r\n        type: \"1\",\r\n        partyschoolId: \"\",\r\n        columnType: \"2\",\r\n        sourceType: \"1\",\r\n        columnId: this.reportID,\r\n        videoName: this.videoName,\r\n        pageNum: this.currentPage,\r\n        pageSize: 10\r\n      }).then(res => {\r\n        var _data = res.result;\r\n        if (res.code === 200) {\r\n          _data.forEach(item => {\r\n            item.videoName = item.videoName;\r\n            item.videoTime = this.formatDate(item.uploadDate);\r\n            item.videoSource = item.mappingUrl;\r\n            item.reportID = item.id;\r\n            item.status = item.status;\r\n          });\r\n          this.videoSData = _data;\r\n        } else if(res.code === 900) {\r\n          if (this.currentPage > 1) {\r\n            this.currentPage = this.currentPage - 1;\r\n            this.search()\r\n          }else{\r\n            this.videoSData = []\r\n          }\r\n        }\r\n        if (res.number) {\r\n          this.total = res.number;\r\n        }\r\n      });\r\n    },\r\n    handleSelectionChange(val) {\r\n      // 复选框\r\n      this.multipleSelection = val;\r\n    },\r\n    artSecIn() {\r\n      var inArray = [];\r\n      this.multipleSelection.map(item => {\r\n        var obj = {};\r\n        obj.videoId = item.id;\r\n        inArray.push(obj);\r\n      });\r\n      API.InColumnVideo({\r\n        columnId: this.reportID,\r\n        data: inArray\r\n      })\r\n        .then(res => {\r\n          if (res.code === 200) {\r\n            this.$message({\r\n              message: \"导入成功！\",\r\n              type: \"success\"\r\n            });\r\n            this.search();\r\n          }\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    handleCurrentChange(val) {\r\n      // 分页\r\n      this.currentPage = val;\r\n      this.search();\r\n    },\r\n    formatDate: function(value) {\r\n      let date = new Date(value);\r\n      let y = date.getFullYear();\r\n      let MM = date.getMonth() + 1;\r\n      MM = MM < 10 ? \"0\" + MM : MM;\r\n      let d = date.getDate();\r\n      d = d < 10 ? \"0\" + d : d;\r\n      return y + \"-\" + MM + \"-\" + d + \" \";\r\n    }\r\n  },\r\n  created() {\r\n    this.reportID = this.$route.query.reportID;\r\n    this.search();\r\n  },\r\n  components: {\r\n    commonBread\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"../../style/mix\";\r\n@import \"../../style/magTable\";\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/column/videoSectionIn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boxBor\"},[_c('div',{staticClass:\"crumbs\"},[_c('common-bread')],1),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('p',{staticClass:\"titleBar\"},[_vm._v(\"\\n      视频导入\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"userListBor\"},[_c('div',{staticClass:\"userList clear\"},[_c('div',{staticClass:\"actBtn left\"},[_c('button',{staticClass:\"newAdd\",on:{\"click\":_vm.artSecIn}},[_vm._v(\"导 入\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"fillIn right\"},[_c('li',[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.videoName),expression:\"videoName\"}],attrs:{\"type\":\"text\",\"size\":\"small\",\"name\":\"keyword\",\"placeholder\":\"按视频名称搜索\"},domProps:{\"value\":(_vm.videoName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.videoName=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('button',{on:{\"click\":_vm.search}},[_vm._v(\"搜 索\")])])])]),_vm._v(\" \"),_c('el-table',{ref:\"singleTable\",attrs:{\"data\":_vm.videoSData,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoName\",\"label\":\"视频名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoTime\",\"label\":\"上传时间\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoSource\",\"label\":\"映射地址\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}})],1),_vm._v(\" \"),(_vm.total>1)?_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"keyword\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.2rem\"}}),_vm._v(\"关\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"键\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"字 :\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.18rem\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4ff41ce0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/column/videoSectionIn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ff41ce0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./videoSectionIn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./videoSectionIn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./videoSectionIn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ff41ce0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./videoSectionIn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ff41ce0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/column/videoSectionIn.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}