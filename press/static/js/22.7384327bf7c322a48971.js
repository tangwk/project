webpackJsonp([22],{"Xi+7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7FYt"),n={name:"RoleNew",data:function(){return{partyName1:"",remark:"",partyTypeId:"",linkMan:"",linkPhone:"",address:"",account:"",initPwd:"",value:[],roleArr:[],options:[],data2:[],newRoll:[]}},watch:{value:function(){this.demo()}},methods:{search:function(){var e=this;r.e({type:"1"}).then(function(t){200===t.code&&(e.data2=t.result)})},handleCheck:function(e,t){var a=this,r=t.checkedNodes;this.newRoll=[],r.forEach(function(e){var t={};t.authorityId=e.id,a.newRoll.push(t)})},demo:function(){var e=[],t=this.value;t.forEach(function(t){var a={};a.authorityId=t,e.push(a)}),this.roleArr=e},newPartySubmit:function(){var e=this;this.$validator.validateAll().then(function(t){t&&r.h({roleName:e.partyName1,partyschoolId:"",remark:e.remark,data:e.newRoll,type:1}).then(function(t){"200"==t.code?(e.$router.push("role"),e.$message({message:"保存成功",type:"success"})):alert(t.msg||t.status.msg)})})},goBack:function(){this.$router.go(-1)},resetCheckedAll:function(){var e=this;r.e({type:"1"}).then(function(t){var a=[],r=[],n=[];t.result.forEach(function(e){var t={};a.push(e.id),t.authorityId=e.id,r.push(t)}),t.result.forEach(function(e){e.children.length&&e.children.forEach(function(e){var t={};t.authorityId=e.id,n.push(t)})}),e.newRoll=r.concat(n),e.$refs.trees.setCheckedKeys(a)})},resetChecked:function(){this.$refs.trees.setCheckedKeys([]),this.newRoll=[]}},created:function(){this.search()},components:{commonBread:a("Osha").a}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxBor"},[a("div",{staticClass:"crumbs"},[a("common-bread")],1),e._v(" "),a("div",{staticClass:"user"},[a("p",{staticClass:"titleBar"},[e._v("\n      角色新增\n    ")]),e._v(" "),a("ul",{staticClass:"resetPwd"},[a("li",[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.partyName1,expression:"partyName1"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{input:!0,"is-danger":e.errors.has("partyName1")},attrs:{type:"text",name:"partyName1",placeholder:"请输入角色名称"},domProps:{value:e.partyName1},on:{input:function(t){t.target.composing||(e.partyName1=t.target.value)}}}),e._v(" "),a("p",{attrs:{id:"hint"}},[e._v(e._s(e.errors.first("partyName1")))])]),e._v(" "),a("li",[e._m(1),e._v(" "),a("div",{staticClass:"anNiu"},[a("el-button",{attrs:{round:"",type:"primary",id:"quanxuan"},on:{click:e.resetCheckedAll}},[e._v("全选")]),e._v(" "),a("el-button",{attrs:{round:"",id:"quanxuan"},on:{click:e.resetChecked}},[e._v("清空")])],1),e._v(" "),a("div",{attrs:{id:"tree"}},[a("el-tree",{ref:"trees",attrs:{data:e.data2,"show-checkbox":"","node-key":"id"},on:{check:e.handleCheck}})],1)]),e._v(" "),a("li",[e._m(2),e._v(" "),a("el-input",{staticClass:"remark",attrs:{type:"textarea",rows:1,placeholder:"请输入内容",resize:"none"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),e._v(" "),a("li",[a("button",{on:{click:e.newPartySubmit}},[e._v("保 存")]),e._v(" "),a("button",{on:{click:e.goBack}},[e._v("取 消")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"partyType"}},[t("i",{staticClass:"iconfont icon-xinghao"}),this._v("角色名称 :  \n        ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"account"}},[t("i",{staticClass:"iconfont icon-xinghao"}),this._v("角色权限 :  \n        ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"partyType"}},[t("span",{staticStyle:{display:"inline-block",width:"22px"}}),this._v("\n           备"),t("span",{staticStyle:{display:"inline-block",width:"1.5rem"}}),this._v("注 :  \n        ")])}]};var i=a("C7Lr")(n,s,!1,function(e){a("iyw+")},"data-v-6a7ed20c",null);t.default=i.exports},"iyw+":function(e,t){}});
//# sourceMappingURL=22.7384327bf7c322a48971.js.map