{"version":3,"sources":["webpack:///src/pages/resource/video.vue","webpack:///./src/pages/resource/video.vue?c9c5","webpack:///./src/pages/resource/video.vue"],"names":["video","name","data","videoName","videoData","deleteType","multipleSelection","currentPage","total","alertClosed","options","watch","val","this","search","methods","searchData","_this","resource","getVideoList","type","id","partyschoolId","videoContent","startDate","endDate","pageNum","pageSize","then","res","_data","result","code","forEach","item","videoTime","formatDate","uploadDate","foo","value","videoType","label","status","reportID","i","length","num","number","getTypeList","_this2","typeList","codeName","codeType","_datas","handleSelectionChange","deleteAll","_this3","arr","map","obj","push","deleteVideo","$message","message","deleteSingle","_this4","currentDelId","checkDel","handleDel","index","row","sureDel","$refs","deleteRef","getAttribute","close","upload","$router","handleLook","query","handleModify","handleCurrentChange","date","Date","y","getFullYear","MM","getMonth","d","getDate","created","$route","Number","components","commonBread","bread","resource_video","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","_m","directives","rawName","expression","attrs","size","placeholder","domProps","input","$event","target","composing","ref","highlight-current-row","selection-change","property","show-overflow-tooltip","width","align","scopedSlots","_u","key","fn","scope","title","$index","current-page","page-size","layout","current-change","_e","data-type","staticRenderFns","for","staticStyle","display","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.f38c45b71eb1cb937b92.js","sourcesContent":[" <template>\n  <div class=\"boxBor\">\n    <div class=\"crumbs\">\n      <common-bread></common-bread>\n    </div>\n    <div class=\"user\">\n      <p class=\"titleBar\">\n        视频管理\n      </p>\n      <div class=\"userListBor\">\n        <div class=\"userList clear\">\n          <div class=\"actBtn left\">\n            <button class=\"newAdd\" @click=\"upload\">上传视频</button>\n            <!-- <button class=\"newAdd\" @click=\"checkDel\" :disabled=\"multipleSelection.length == 0\">批量删除</button> -->\n          </div>\n          <ul class=\"fillIn right\">\n            <li>\n              <label for=\"keyword\">\n                <span style=\"display:inline-block;width: 0.2rem;\"></span>关\n                <span style=\"display:inline-block;width: 0.26rem;\"></span>键\n                <span style=\"display:inline-block;width: 0.26rem;\"></span>字 :\n                <span style=\"display:inline-block;width: 0.18rem;\"></span>\n              </label>\n              <input type=\"text\" size=\"small\" name=\"keyword\" placeholder=\"按视频名称搜索\" v-model=\"videoName\">\n            </li>\n            <li>\n              <button @click=\"searchData\">搜 索</button>\n            </li>\n          </ul>\n        </div>\n        <el-table\n          ref=\"singleTable\"\n          :data=\"videoData\"\n          highlight-current-row\n          @selection-change=\"handleSelectionChange\"\n          >\n          <!-- <el-table-column type=\"selection\"></el-table-column> -->\n             <el-table-column property=\"num\" label=\"序号\" show-overflow-tooltip width=\"80px\" align=\"center\">\n          </el-table-column>\n          <el-table-column\n            property=\"videoName\"\n            label=\"视频名称\"\n            show-overflow-tooltip\n            align=\"center\">\n          </el-table-column>\n          <el-table-column\n            property=\"videoType\"\n            label=\"分类\"\n            show-overflow-tooltip\n            align=\"center\">\n          </el-table-column>\n          <el-table-column\n            property=\"videoTime\"\n            label=\"上传时间\"\n            show-overflow-tooltip\n            align=\"center\">\n          </el-table-column>\n          <el-table-column\n            property=\"status\"\n            label=\"状态\"\n            show-overflow-tooltip\n            align=\"center\">\n          </el-table-column>\n          <el-table-column\n            label=\"操作\"\n            width=\"240\"\n            align=\"center\">\n            <template slot-scope=\"scope\">\n              <i class=\"iconfont icon-yanjing-copy\" title=\"查看\" @click=\"handleLook(scope.$index, scope.row)\"></i>\n              <i class=\"iconfont icon-web-icon-\" title=\"修改\" @click=\"handleModify(scope.$index, scope.row)\"></i>\n              <i class=\"iconfont icon-shanchu-copy\" title=\"删除\" @click=\"handleDel(scope.$index, scope.row)\" ></i>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <!-- 分页 -->\n        <div class=\"block\" v-if=\"total>1\">\n          <el-pagination\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-size=\"10\"\n            layout=\"total, prev, pager, next, jumper\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n    <div class=\"dataDel\" v-show=\"alertClosed\">\n      <div class=\"sureDel\">\n        <div class=\"titleDel\">\n          <p>确认删除</p>\n          <i class=\"iconfont icon-guanbi\" @click=\"close\"></i>\n        </div>\n        <h3>是否确认删除?</h3>\n        <p>\n          <button :data-type=\"deleteType\" ref=\"deleteRef\" @click=\"sureDel\">确定</button>\n          <button @click=\"close\">取消</button>\n        </p>\n      </div>\n      <div class=\"opacityDel\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport commonBread from \"../../components/bread\";\nimport API from \"../../API/resource.js\";\nexport default {\n  name: \"Video\",\n  data() {\n    return {\n      videoName: \"\", // 关键词检索\n      videoData: [],\n      deleteType: \"\", // 批量删除\n      multipleSelection: [],\n      currentPage: 1, // 当前页码\n      total: null, //null\n      alertClosed: false,\n      options: []\n    };\n  },\n  watch: {\n    videoName(val) {\n      if (val === \"\") {\n        this.search();\n      }\n    }\n  },\n  methods: {\n    searchData(){\n      this.videoData = [];\n      this.currentPage = 1;\n      this.search();\n    },\n    search() {\n      this.videoData = [];\n      API.getVideoList({\n        type: \"1\",\n        id: \"\",\n        partyschoolId: \"\",\n        videoName: this.videoName,\n        videoContent: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        pageNum: this.currentPage,\n        pageSize: 10\n      }).then(res => {\n        var _data = res.result;\n        if (res.code === 200) {\n          _data.forEach(item => {\n            item.videoName = item.videoName,\n            item.videoTime = this.formatDate(item.uploadDate),\n            this.options.forEach(foo => {\n              if(foo.value == item.videoType) {\n                item.videoType = foo.label\n              }\n            })\n            item.status = item.status,\n            item.reportID = item.id\n            if (item.status === \"1\") {\n              item.status = \"已审批\";\n            }\n            if (item.status === \"2\") {\n              item.status = \"待审批\";\n            }\n            if (item.status === \"3\") {\n              item.status = \"未通过\";\n            }\n          });\n          this.videoData = _data;\n            for (var i = 0; i < this.videoData.length; i++) {\n              if (i == 9) {\n                this.videoData[i].num = this.currentPage + \"0\"\n              } else {\n                if (this.currentPage == 1) {\n                  this.videoData[i].num = this.currentPage + i + \"\"\n                } else {\n                  this.videoData[i].num = this.currentPage - 1 + \"\" + (i + 1)\n                }\n              }\n            }\n          // console.log(this.videoData);\n        } else if (res.code === 900) {\n          if (this.currentPage > 1) {\n            this.currentPage = this.currentPage - 1;\n            this.search();\n          } else {\n            this.videoData = [];\n          }\n        }\n        if (res.number) {\n          this.total = res.number;\n        }\n      });\n    },\n    getTypeList() {\n      API.typeList({\n        codeName: '',\n        codeType: \"videoType\",\n        id: '',\n        code: \"\"\n      }).then(res => {\n        var _datas = res.result\n        this.options = []\n        if (_datas) {\n          _datas.forEach((item) => {\n            item.label = item.codeName\n            item.value = item.code\n          })\n          this.options = _datas\n        }\n      });\n    },\n    handleSelectionChange(val) {\n      // 复选框\n      this.multipleSelection = val;\n    },\n    // 删除多个请求\n    deleteAll() {\n      var arr = [];\n      this.multipleSelection.map(item => {\n        var obj = {};\n        obj.id = item.id;\n        obj.status = item.status;\n        arr.push(obj);\n      });\n\n      API.deleteVideo({\n        data: arr\n        // status: 0\n      }).then(res => {\n        // 刷新\n        if (res.code === 200) {\n          this.alertClosed = !this.alertClosed;\n          this.$message({\n            message: \"删除成功！\",\n            type: \"success\"\n          });\n          this.search();\n        }\n      });\n    },\n    // 删除单个请求\n    deleteSingle() {\n      API.deleteVideo({\n        data: [\n          {\n            id: this.currentDelId,\n            status: this.status\n          }\n        ]\n      }).then(res => {\n        if (res.code === 200) {\n          this.alertClosed = !this.alertClosed;\n          this.$message({\n            message: \"删除成功！\",\n            type: \"success\"\n          });\n          this.search();\n        }\n      });\n    },\n    checkDel() {\n      this.alertClosed = !this.alertClosed; // 批量删除\n      this.deleteType = \"deleteAll\";\n    },\n    handleDel(index, row) {\n      //单个删除\n      this.currentDelId = row.reportID; // 取当前行id\n      this.status = row.status;\n      this.alertClosed = !this.alertClosed;\n      this.deleteType = \"deleteSingle\";\n    },\n    sureDel() {\n      // 确认删除\n      var _type = this.$refs.deleteRef.getAttribute(\"data-type\");\n      if (_type === \"deleteAll\") {\n        this.deleteAll();\n      } else {\n        this.deleteSingle();\n      }\n    },\n    close() {\n      this.alertClosed = !this.alertClosed; // 关闭确认删除弹窗\n    },\n    upload() {\n      this.$router.push(\"uploadVideo\");\n    },\n    handleLook(index, row) {\n      // 查看\n      // this.$router.push(\"videoLook?reportID=\" + row.reportID);\n      this.$router.push({ name:'VideoLook',query: { reportID: row.reportID,currentPage: this.currentPage }});\n    },\n    handleModify(index, row) {\n      // 修改\n      // this.$router.push(\"videoModify?reportID=\" + row.reportID);\n      this.$router.push({ name:'VideoModify',query: { reportID: row.reportID,currentPage: this.currentPage }});\n    },\n    handleCurrentChange(val) {\n      // 分页\n      this.currentPage = val;\n      this.search();\n    },\n    formatDate: function(value) {\n      let date = new Date(value);\n      let y = date.getFullYear();\n      let MM = date.getMonth() + 1;\n      MM = MM < 10 ? \"0\" + MM : MM;\n      let d = date.getDate();\n      d = d < 10 ? \"0\" + d : d;\n      return y + \"-\" + MM + \"-\" + d + \" \";\n    }\n  },\n  created() {\n    if (this.$route.query.currentPage) {\n      this.currentPage = Number(this.$route.query.currentPage);\n    }\n    this.getTypeList();\n    this.search();\n  },\n  components: {\n    commonBread\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"../../style/mix\";\n@import \"../../style/magTable\";\n</style>\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/resource/video.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boxBor\"},[_c('div',{staticClass:\"crumbs\"},[_c('common-bread')],1),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('p',{staticClass:\"titleBar\"},[_vm._v(\"\\n      视频管理\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"userListBor\"},[_c('div',{staticClass:\"userList clear\"},[_c('div',{staticClass:\"actBtn left\"},[_c('button',{staticClass:\"newAdd\",on:{\"click\":_vm.upload}},[_vm._v(\"上传视频\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"fillIn right\"},[_c('li',[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.videoName),expression:\"videoName\"}],attrs:{\"type\":\"text\",\"size\":\"small\",\"name\":\"keyword\",\"placeholder\":\"按视频名称搜索\"},domProps:{\"value\":(_vm.videoName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.videoName=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('button',{on:{\"click\":_vm.searchData}},[_vm._v(\"搜 索\")])])])]),_vm._v(\" \"),_c('el-table',{ref:\"singleTable\",attrs:{\"data\":_vm.videoData,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"property\":\"num\",\"label\":\"序号\",\"show-overflow-tooltip\":\"\",\"width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoName\",\"label\":\"视频名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoType\",\"label\":\"分类\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"videoTime\",\"label\":\"上传时间\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"status\",\"label\":\"状态\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"iconfont icon-yanjing-copy\",attrs:{\"title\":\"查看\"},on:{\"click\":function($event){_vm.handleLook(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-web-icon-\",attrs:{\"title\":\"修改\"},on:{\"click\":function($event){_vm.handleModify(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu-copy\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}})]}}])})],1),_vm._v(\" \"),(_vm.total>1)?_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertClosed),expression:\"alertClosed\"}],staticClass:\"dataDel\"},[_c('div',{staticClass:\"sureDel\"},[_c('div',{staticClass:\"titleDel\"},[_c('p',[_vm._v(\"确认删除\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-guanbi\",on:{\"click\":_vm.close}})]),_vm._v(\" \"),_c('h3',[_vm._v(\"是否确认删除?\")]),_vm._v(\" \"),_c('p',[_c('button',{ref:\"deleteRef\",attrs:{\"data-type\":_vm.deleteType},on:{\"click\":_vm.sureDel}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.close}},[_vm._v(\"取消\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"opacityDel\"})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"keyword\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.2rem\"}}),_vm._v(\"关\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"键\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"字 :\\n              \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.18rem\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-77a61b4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/resource/video.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77a61b4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./video.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./video.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./video.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77a61b4e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./video.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77a61b4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/resource/video.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}