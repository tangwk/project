{"version":3,"sources":["webpack:///src/pages/column/videoSection.vue","webpack:///./src/pages/column/videoSection.vue?9868","webpack:///./src/pages/column/videoSection.vue"],"names":["videoSection","name","data","secName","dialogVisible","sectionName","videoSecData","deleteType","multipleSelection","currentPage","total","alertClosed","watch","val","this","search","methods","searchData","_this","column","getColumnList","id","columnName","partyschoolId","columnType","sourceType","pageNum","pageSize","then","res","_data","result","code","forEach","item","creatTime","formatDate","modifyDate","reportID","i","length","num","number","catch","err","save","_this2","$validator","validateAll","addColumn","$message","message","type","handleSelectionChange","deleteAll","_this3","arr","map","obj","push","deleteColumn","status","deleteSingle","_this4","currentDelId","checkDel","handleDel","index","row","sureDel","$refs","deleteRef","getAttribute","close","handleLook","$router","handleIn","handleCurrentChange","handleClose","done","$confirm","_","value","date","Date","y","getFullYear","MM","getMonth","d","getDate","created","components","commonBread","bread","column_videoSection","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","$event","_m","directives","rawName","expression","attrs","size","placeholder","domProps","input","target","composing","ref","highlight-current-row","selection-change","property","label","show-overflow-tooltip","width","align","scopedSlots","_u","key","fn","scope","title","$index","current-page","page-size","layout","current-change","_e","visible","before-close","update:visible","for","class","is-danger","errors","has","model","callback","$$v","_s","first","slot","data-type","staticRenderFns","staticStyle","display","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.c8d1ee512b1877f299fc.js","sourcesContent":["<template>\n  <div class=\"boxBor\">\n    <div class=\"crumbs\">\n      <common-bread></common-bread>\n    </div>\n    <div class=\"user\">\n      <p class=\"titleBar\">\n        视频栏目管理\n      </p>\n      <div class=\"userListBor\">\n        <div class=\"userList clear\">\n          <div class=\"actBtn left\">\n            <button class=\"newAdd\" @click=\"dialogVisible = true\">新建栏目</button>\n            <!-- <button class=\"newAdd\" @click=\"checkDel\" :disabled=\"multipleSelection.length == 0\">批量删除</button> -->\n          </div>\n          <ul class=\"fillIn right\">\n            <li>\n              <label for=\"keyword\">\n                  <span style=\"display:inline-block;width: 0.2rem;\"></span>关\n                  <span style=\"display:inline-block;width: 0.26rem;\"></span>键\n                  <span style=\"display:inline-block;width: 0.26rem;\"></span>字 :\n                  <span style=\"display:inline-block;width: 0.18rem;\"></span>\n                </label>\n              <input type=\"text\" size=\"small\" name=\"keyword\" placeholder=\"按栏目名称搜索\" v-model=\"sectionName\">\n            </li>\n            <li>\n              <button @click=\"searchData\">搜 索</button>\n            </li>\n          </ul>\n        </div>\n        <el-table ref=\"singleTable\" :data=\"videoSecData\" highlight-current-row @selection-change=\"handleSelectionChange\">\n          <!-- <el-table-column type=\"selection\"></el-table-column> -->\n          <el-table-column property=\"num\" label=\"序号\" show-overflow-tooltip width=\"80px\" align=\"center\">\n          </el-table-column>\n          <el-table-column property=\"sectionName\" label=\"栏目名称\" show-overflow-tooltip align=\"center\">\n          </el-table-column>\n          <el-table-column property=\"creatTime\" label=\"创建时间\" show-overflow-tooltip align=\"center\">\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"240\" align=\"center\">\n            <template slot-scope=\"scope\">\n                <i class=\"iconfont icon-yanjing-copy\" title=\"查看\" @click=\"handleLook(scope.$index, scope.row)\"></i>\n                <i class=\"iconfont icon-daoru-copy\" title=\"导入\" @click=\"handleIn(scope.$index, scope.row)\"></i>\n                <i class=\"iconfont icon-shanchu-copy\" title=\"删除\" @click=\"handleDel(scope.$index, scope.row)\" ></i>\n</template>\n          </el-table-column>\n        </el-table>\n\n        <!-- 分页 -->\n        <div class=\"block\" v-if=\"total>1\">\n          <el-pagination\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-size=\"10\"\n            layout=\"total, prev, pager, next, jumper\"\n            :total=\"total\">\n          </el-pagination>\n        </div>\n      </div>\n      <!-- 新建栏目弹窗 -->\n      <el-dialog\n        title=\"新建视频栏目\"\n        :visible.sync=\"dialogVisible\"\n        width=\"50%\"\n        :before-close=\"handleClose\">\n        <div class=\"mapInputBor\">\n          <label for=\"sectionName\">栏目名称 :</label>\n          <el-input class=\"mapInput\" v-model=\"secName\" id=\"sectionName\" placeholder=\"请输入栏目名称\" name=\"sectionName\" v-validate=\"'required'\" :class=\" {'input':true, 'is-danger': errors.has('sectionName')} \"></el-input>\n          <p class=\"hint\"> {{ errors.first('sectionName') }} </p>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer submit\">\n          <button  @click=\"save\">保 存</button>\n          <button @click=\"dialogVisible = false\">取 消</button>\n        </span>\n      </el-dialog>\n    </div>\n    <div class=\"dataDel\" v-show=\"alertClosed\">\n      <div class=\"sureDel\">\n        <div class=\"titleDel\">\n          <p>确认删除</p>\n          <i class=\"iconfont icon-guanbi\" @click=\"close\"></i>\n        </div>\n        <h3>是否确认删除？</h3>\n        <p>\n          <button :data-type=\"deleteType\" ref=\"deleteRef\" @click=\"sureDel\">确定</button>\n          <button @click=\"close\">取消</button>\n        </p>\n      </div>\n      <div class=\"opacityDel\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import commonBread from \"../../components/bread\";\n  import API from \"../../API/column.js\";\n  export default {\n    name: \"VideoSection\",\n    data() {\n      return {\n        secName: \"\", // 新建\n        dialogVisible: false,\n        sectionName: \"\", // 关键词检索\n        videoSecData: [],\n        deleteType: \"\", // 批量删除\n        multipleSelection: [],\n        currentPage: 1, // 当前页码\n        total: null, //null\n        alertClosed: false\n      };\n    },\n    watch: {\n      sectionName(val) {\n        if (val === \"\") {\n          this.search();\n        }\n      }\n    },\n    methods: {\n      searchData() {\n        this.videoSecData = [];\n        this.currentPage = 1;\n        this.search();\n      },\n      search() {\n        this.videoSecData = [];\n        API.getColumnList({\n            id: \"\",\n            columnName: this.sectionName,\n            partyschoolId: \"\",\n            columnType: \"2\", // 1 = 图书 , 2 = 视频 , 3 = 文章 （固定必传）\n            sourceType: \"1\", // 1 = 出版社 , 2 = 党校\n            pageNum: this.currentPage,\n            pageSize: 10\n          })\n          .then(res => {\n            var _data = res.result;\n            if (res.code === 200) {\n              _data.forEach(item => {\n                item.sectionName = item.columnName;\n                item.creatTime = this.formatDate(item.modifyDate);\n                item.reportID = item.id;\n              });\n              this.videoSecData = _data;\n              for (var i = 0; i < this.videoSecData.length; i++) {\n                if (i == 9) {\n                  this.videoSecData[i].num = this.currentPage + \"0\"\n                } else {\n                  if (this.currentPage == 1) {\n                    this.videoSecData[i].num = this.currentPage + i + \"\"\n                  } else {\n                    this.videoSecData[i].num = this.currentPage - 1 + \"\" + (i + 1)\n                  }\n                }\n              }\n            } else if (res.code === 900) {\n              if (this.currentPage > 1) {\n                this.currentPage = this.currentPage - 1;\n                this.search()\n              } else {\n                this.videoSecData = []\n              }\n            }\n            if (res.number) {\n              this.total = res.number;\n            }\n          })\n          .catch(err => {});\n      },\n      save() {\n        this.$validator.validateAll().then(res => {\n          if (res) {\n            API.addColumn({\n                partyschoolId: \"\",\n                columnName: this.secName,\n                columnType: \"2\",\n                sourceType: \"1\"\n              })\n              .then(res => {\n                this.$message({\n                  message: \"添加成功！\",\n                  type: \"success\"\n                });\n                this.dialogVisible = false;\n                this.search();\n                this.secName = \"\"\n              })\n              .catch(err => {});\n          }\n        });\n      },\n      handleSelectionChange(val) {\n        // 复选框\n        this.multipleSelection = val;\n      },\n      // 删除多个请求\n      deleteAll() {\n        var arr = [];\n        this.multipleSelection.map(item => {\n          var obj = {};\n          obj.id = item.id;\n          arr.push(obj);\n        });\n        API.deleteColumn({\n          data: arr,\n          status: 0\n        }).then(res => {\n          // 刷新\n          if (res.code === 200) {\n            this.alertClosed = !this.alertClosed;\n            this.$message({\n              message: \"删除成功！\",\n              type: \"success\"\n            });\n            this.search();\n          }\n        });\n      },\n      // 删除单个请求\n      deleteSingle() {\n        API.deleteColumn({\n          data: [{\n            id: this.currentDelId\n          }],\n          status: 0\n        }).then(res => {\n          if (res.code === 200) {\n            this.alertClosed = !this.alertClosed;\n            this.$message({\n              message: \"删除成功！\",\n              type: \"success\"\n            });\n            this.search();\n          }\n        });\n      },\n      checkDel() {\n        this.alertClosed = !this.alertClosed; // 批量删除\n        this.deleteType = \"deleteAll\";\n      },\n      handleDel(index, row) {\n        //单个删除\n        this.currentDelId = row.reportID; // 取当前行id\n        this.alertClosed = !this.alertClosed;\n        this.deleteType = \"deleteSingle\";\n      },\n      sureDel() {\n        // 确认删除\n        var _type = this.$refs.deleteRef.getAttribute(\"data-type\");\n        if (_type === \"deleteAll\") {\n          this.deleteAll();\n        } else {\n          this.deleteSingle();\n        }\n      },\n      close() {\n        this.alertClosed = !this.alertClosed; // 关闭确认删除弹窗\n      },\n      handleLook(index, row) {\n        // 查看\n        this.$router.push(\"videoSectionLook?reportID=\" + row.reportID+\"&columnName=\"+row.columnName);\n      },\n      handleIn(index, row) {\n        // 导入\n        this.$router.push(\"videoSectionIn?reportID=\" + row.reportID);\n      },\n      handleCurrentChange(val) {\n        // 分页\n        this.currentPage = val;\n        this.search();\n      },\n      handleClose(done) {\n        this.$confirm(\"确认关闭？\")\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {});\n      },\n      formatDate: function(value) {\n        let date = new Date(value);\n        let y = date.getFullYear();\n        let MM = date.getMonth() + 1;\n        MM = MM < 10 ? \"0\" + MM : MM;\n        let d = date.getDate();\n        d = d < 10 ? \"0\" + d : d;\n        return y + \"-\" + MM + \"-\" + d + \" \";\n      }\n    },\n    created() {\n      this.search();\n    },\n    components: {\n      commonBread\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  @import \"../../style/mix\";\n  @import \"../../style/magTable\";\n  .mapInputBor {\n    width: 100%;\n    height: 50px;\n    label {\n      display: inline-block;\n      .wh(70px, 32px);\n      .ft(13px, 32px);\n    }\n    .mapInput {\n      width: calc(100% - 80px);\n    }\n  }\n  .dialog-footer {\n    display: block;\n    width: 100%;\n    text-align: center;\n  }\n  .hint {\n    margin-left: 90px;\n    font-size: 14px;\n    line-height: 18px;\n    color: #ff0000;\n  }\n</style>\n\n\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/column/videoSection.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boxBor\"},[_c('div',{staticClass:\"crumbs\"},[_c('common-bread')],1),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('p',{staticClass:\"titleBar\"},[_vm._v(\"\\n        视频栏目管理\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"userListBor\"},[_c('div',{staticClass:\"userList clear\"},[_c('div',{staticClass:\"actBtn left\"},[_c('button',{staticClass:\"newAdd\",on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"新建栏目\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"fillIn right\"},[_c('li',[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sectionName),expression:\"sectionName\"}],attrs:{\"type\":\"text\",\"size\":\"small\",\"name\":\"keyword\",\"placeholder\":\"按栏目名称搜索\"},domProps:{\"value\":(_vm.sectionName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sectionName=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('button',{on:{\"click\":_vm.searchData}},[_vm._v(\"搜 索\")])])])]),_vm._v(\" \"),_c('el-table',{ref:\"singleTable\",attrs:{\"data\":_vm.videoSecData,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"property\":\"num\",\"label\":\"序号\",\"show-overflow-tooltip\":\"\",\"width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"sectionName\",\"label\":\"栏目名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"creatTime\",\"label\":\"创建时间\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"iconfont icon-yanjing-copy\",attrs:{\"title\":\"查看\"},on:{\"click\":function($event){_vm.handleLook(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-daoru-copy\",attrs:{\"title\":\"导入\"},on:{\"click\":function($event){_vm.handleIn(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu-copy\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}})]}}])})],1),_vm._v(\" \"),(_vm.total>1)?_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新建视频栏目\",\"visible\":_vm.dialogVisible,\"width\":\"50%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"mapInputBor\"},[_c('label',{attrs:{\"for\":\"sectionName\"}},[_vm._v(\"栏目名称 :\")]),_vm._v(\" \"),_c('el-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mapInput\",class:{'input':true, 'is-danger': _vm.errors.has('sectionName')},attrs:{\"id\":\"sectionName\",\"placeholder\":\"请输入栏目名称\",\"name\":\"sectionName\"},model:{value:(_vm.secName),callback:function ($$v) {_vm.secName=$$v},expression:\"secName\"}}),_vm._v(\" \"),_c('p',{staticClass:\"hint\"},[_vm._v(\" \"+_vm._s(_vm.errors.first('sectionName'))+\" \")])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer submit\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{on:{\"click\":_vm.save}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertClosed),expression:\"alertClosed\"}],staticClass:\"dataDel\"},[_c('div',{staticClass:\"sureDel\"},[_c('div',{staticClass:\"titleDel\"},[_c('p',[_vm._v(\"确认删除\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-guanbi\",on:{\"click\":_vm.close}})]),_vm._v(\" \"),_c('h3',[_vm._v(\"是否确认删除？\")]),_vm._v(\" \"),_c('p',[_c('button',{ref:\"deleteRef\",attrs:{\"data-type\":_vm.deleteType},on:{\"click\":_vm.sureDel}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.close}},[_vm._v(\"取消\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"opacityDel\"})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"keyword\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.2rem\"}}),_vm._v(\"关\\n                  \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"键\\n                  \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.26rem\"}}),_vm._v(\"字 :\\n                  \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"0.18rem\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-166ab652\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/column/videoSection.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-166ab652\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./videoSection.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./videoSection.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./videoSection.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-166ab652\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./videoSection.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-166ab652\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/column/videoSection.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}